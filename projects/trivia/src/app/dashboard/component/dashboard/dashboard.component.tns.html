<StackLayout class="mobile" backgroundColor="#fff" id="dashboard" *ngIf="renderView">
    <GridLayout rows="auto" columns="auto,*,auto,auto" class="sideStackLayoutHeader" class="dashboard"
        iosOverflowSafeArea="false">

        <app-user-card *ngIf="user && user!==null" [user]="user" [userId]="user.userId"
            [type]="userCardType.USER_IMAGE_NAME_PROFILE_HORIZONTAL"></app-user-card>

        <StackLayout row="0" col="1" verticalAlignment="center" iosOverflowSafeArea="false" class="dashboard_user">
            <Label [text]="actionText" textWrap="true" class="dashboard_user-header"></Label>
            <StackLayout orientation="horizontal">
                <Label *ngIf="actionSubText && actionSubText.length>0" class="dashboard_user-subText"
                    [text]="actionSubText" textWrap="true" stlRippleEffect (rippleTap)="navigateToCategories()"></Label>
                <Label *ngIf="user && user!== null && actionSubText && actionSubText.length>0" text="&#xf303;"
                    class="fas dashboard_user-icon" stlRippleEffect (rippleTap)="navigateToCategories()"></Label>
            </StackLayout>
        </StackLayout>

        <StackLayout *ngIf="user && user!==null" col="2" stlRippleEffect stlBackgroundColor="#13284F" ios:margin="3"
            android:margin="10" stlOpacity="0.5" stlBackgroundColorAfter="transparent" verticalAlignment="center"
            horizontalAlignment="right" android:width="24" ios:width="24">
            <Label text="&#xf1d1;" class="fa" fontSize="24"></Label>
        </StackLayout>

        <StackLayout *ngIf="user && user!==null" class="index-0" col="3" stlRippleEffect stlBackgroundColor="#13284F"
            stlOpacity="0.5" stlBackgroundColorAfter="transparent" ios:margin="3" android:margin="10"
            verticalAlignment="center" horizontalAlignment="center" android:width="40" ios:width="40"
            (rippleTap)="gotToNotification()" orientation="horizontal">
            <Label horizontalAlignment="center" verticalAlignment="center" text="&#xf0f3;" class="fa"
                fontSize="24"></Label>
        </StackLayout>

        <StackLayout *ngIf="user && user!==null && notifications.length > 0" col="4"
            [ngClass]="{'notification-dot':notifications?.length > 0 }">
            <Label
                [text]="(notifications.length === 0 ? '' : (notifications.length > 0 && notifications.length > 99) ? '99+' : notifications.length)"
                class="index-1"></Label>
        </StackLayout>

    </GridLayout>
    <ScrollView>
        <StackLayout class="dashboard_body">
            <GridLayout horizontalAlignment="left" rows="auto" columns="auto, *" class="dashboard_body-bits"
                *ngIf="user && applicationSettings?.tokens?.enable">
                <FlexboxLayout col="0" *ngIf="account && user" iosOverflowSafeArea="false">
                    <Image src="~/assets/images/mobile/bits.png" row="0" col="1"></Image>
                    <Label class="dashboard_body-text Roboto-Medium" [text]="account.bits || 0" textWrap="true"></Label>
                </FlexboxLayout>
                <FlexboxLayout col="1" *ngIf="account && user" paddingLeft="30">
                    <Image src="~/assets/images/mobile/bytes.png" row="0" col="1"></Image>
                    <Label class="dashboard_body-text Roboto-Medium" [text]="account.bytes || 0"
                        textWrap="true"></Label>
                </FlexboxLayout>
            </GridLayout>
            <Button text="asdas" (tap)="asdasdAS()"></Button>

            <GridLayout rows="*, *, *, *, *, *" columns="*" iosOverflowSafeArea="false" class="dashboard_body-grid">
                <render-box row="0" col="0" [setBackgroundColor]="'#283b66'" [theme]="'dark'">
                    <StackLayout class="dashboard_body-grid0">
                        <FlexboxLayout class="space-between dashboard_body-grid0-1">
                            <Label text="Play your game" class="title" textWrap="true"></Label>
                            <StackLayout orientation="horizontal"
                                *ngIf="user && account && account?.lives >=0 && isLivesEnable">
                                <Label verticalAlignment="center" text="&#xe938;" class="ico icon-life-icon icon"></Label>
                                <Label verticalAlignment="center" class="dashboard_body-grid0-1-lives"
                                    text="{{ (account && account?.lives / 10 < 1) && (account && account?.lives / 10 > 0)  ? '0' : '' }}{{account && account?.lives}}"
                                    textWrap="true"></Label>
                            </StackLayout>
                        </FlexboxLayout>
                        <FlexboxLayout class="space-between dashboard_body-grid0-2">
                            <StackLayout orientation="horizontal" horizontalAlignment="center" stlRippleEffect
                                (rippleTap)="startNewGame('Single')" [isUserInteractionEnabled]="!gamePlayBtnDisabled"
                                [ngClass]="{'game-btn': !gamePlayBtnDisabled,'game-btn-disabled': gamePlayBtnDisabled}">
                                <Image src="~/assets/images/mobile/friends.png" *ngIf="!gamePlayBtnDisabled" width="15"
                                    height="15"></Image>
                                <Image src="~/assets/images/mobile/friends-disabled.png" *ngIf="gamePlayBtnDisabled"
                                    width="15" height="15"></Image>
                                <Label text="Single Player" paddingLeft="5" textWrap="true"></Label>
                            </StackLayout>
                            <!-- game-btn-disabled  -->
                            <StackLayout orientation="horizontal" horizontalAlignment="center" stlRippleEffect
                                (rippleTap)="startNewGame('Two')" [isUserInteractionEnabled]="!gamePlayBtnDisabled"
                                [ngClass]="{'game-btn': !gamePlayBtnDisabled,'game-btn-disabled': gamePlayBtnDisabled}">
                                <Image src="~/assets/images/mobile/friends.png" width="15" height="15"
                                    *ngIf="!gamePlayBtnDisabled"></Image>
                                <Image src="~/assets/images/mobile/friends.png" width="10" height="10"
                                    *ngIf="!gamePlayBtnDisabled"></Image>
                                <Image src="~/assets/images/mobile/friends-disabled.png" width="15" height="15"
                                    *ngIf="gamePlayBtnDisabled"></Image>
                                <Image src="~/assets/images/mobile/friends-disabled.png" width="10" height="10"
                                    *ngIf="gamePlayBtnDisabled"></Image>
                                <Label text="Multi Player" paddingLeft="5"></Label>
                            </StackLayout>
                        </FlexboxLayout>
                        <StackLayout orientation="horizontal"
                            *ngIf="user && applicationSettings && applicationSettings?.lives?.enable && timeoutLive"
                            class="dashboard_body-grid0-3">
                            <Label class="life-activated" text="The life will get activated again in "
                                textWrap="true"></Label>
                            <Label class="timeout" text="{{timeoutLive}}" textWrap="true"></Label>
                        </StackLayout>

                        <StackLayout orientation="horizontal" class="dashboard_body-grid0-4">
                                <Label verticalAlignment="center" text="&#xe938;" class="ico icon-life-icon icon"></Label>
                            <Label class="no-life" text="No Life will be deducted" textWrap="true"></Label>
                        </StackLayout>

                        <GridLayout rows="*" columns="auto,auto,auto,auto" class="dashboard_body-grid0-5"
                            *ngIf="user && applicationSettings && applicationSettings?.lives?.enable && account && account?.lives === 0">
                            <Label row="0" col="0" text="Activate time instantly" class="buy-lives"></Label>
                            <Image row="0" col="1" src="~/assets/images/mobile/bits.png" width="25" height="25">
                            </Image>
                            <Label row="0" col="2" text="5000" class="lives-number"></Label>
                            <Label row="0" col="3" text="BUY LIFE" class="buy-lives" fontWeight="bold"></Label>
                        </GridLayout>
                    </StackLayout>
                </render-box>
                <!-- </GridLayout> -->
                <StackLayout row="1" col="0" *ngIf="user" iosOverflowSafeArea="false" class="dashboard_body-grid1">
                    <GridLayout rows="auto, auto" columns="*" iosOverflowSafeArea="false">
                        <StackLayout row="0" col="0" *ngIf="activeGames && userDict" iosOverflowSafeArea="false">
                            <Label *ngIf="user && activeGames.length > 0" text="Active Games" textWrap="true"
                                class="active-game p-15"></Label>
                            <StackLayout *ngFor="let game of activeGames" iosOverflowSafeArea="false">
                                <game-card [game]="game">
                                </game-card>
                            </StackLayout>
                        </StackLayout>
                    </GridLayout>
                </StackLayout>

                <StackLayout row="2" col="0" class="dashboard_body-grid2">
                    <question [user]="user" [userDict]="userDict" [theme]="'dark'" [hideAnswer]=true></question>
                </StackLayout>

                <StackLayout row="3" col="0" iosOverflowSafeArea="false" class="dashboard_body-grid3"
                    *ngIf="user && yourQuestion">
                    <StackLayout class="q-title" iosOverflowSafeArea="false">
                        <Label text="Your Questions" textWrap="true" class="active-game"></Label>
                        <StackLayout class="box" (tap)="yourQuestion.toggleButton = !yourQuestion.toggleButton">
                            <Label [text]="yourQuestion?.questionText" class="your-question" textWrap="true"></Label>
                            <FlexboxLayout class="space-between" *ngIf="yourQuestion && yourQuestion?.submittedDays">
                                <Label text="Submitted {{yourQuestion?.submittedDays}} days ago" class="submitted"
                                    textWrap="true"></Label>
                                <Label *ngIf="!yourQuestion?.toggleButton" verticalAlignment="center" text="&#xf078;"
                                    class="fas icon" textWrap="true"></Label>
                                <Label *ngIf="yourQuestion?.toggleButton" horizontalAlignment="right" text="&#xf077;"
                                    class="fas icon" textWrap="true"></Label>
                            </FlexboxLayout>
                            <FlexboxLayout class="toggle-screen" *ngIf="yourQuestion?.toggleButton">
                                <FlexboxLayout class="content">
                                    <Label text="Appeared: " textWrap="true"></Label>
                                    <Label text="{{yourQuestion?.appeared}} times" textWrap="true"></Label>
                                </FlexboxLayout>
                                <FlexboxLayout class="content">
                                    <Label text="Correct: " textWrap="true"></Label>
                                    <Label text="{{yourQuestion?.correct || 0}}" textWrap="true"></Label>
                                </FlexboxLayout>
                                <FlexboxLayout class="content">
                                    <Label text="Likes: " textWrap="true"></Label>
                                    <Label text="{{yourQuestion?.reactionsCount?.like || 0}}" textWrap="true"></Label>
                                </FlexboxLayout>
                                <FlexboxLayout class="content">
                                    <Label text="Wrong: " textWrap="true"></Label>
                                    <Label text="{{yourQuestion?.wrong || 0}}" textWrap="true"></Label>
                                </FlexboxLayout>
                                <FlexboxLayout class="content">
                                    <Label text="Dislikes: " textWrap="true"></Label>
                                    <Label text="{{yourQuestion?.reactionsCount?.dislike || 0}}"
                                        textWrap="true"></Label>
                                </FlexboxLayout>
                            </FlexboxLayout>
                        </StackLayout>
                        <FlexboxLayout>
                            <Button horizontaAlignment="left" ios:padding="10 0" class="submit-btn"
                                text="SUBMIT A QUESTION" (tap)="navigateToMyQuestion()"></Button>
                        </FlexboxLayout>
                    </StackLayout>
                </StackLayout>
                <StackLayout row="4" col="0" iosOverflowSafeArea="false" class="dashboard_body-grid4">
                    <app-invite-to-play [userId]="user?.userId" *ngIf="user && user!==null"></app-invite-to-play>
                </StackLayout>
                <StackLayout *ngIf="user && !yourQuestion" row="5" col="0" class="submit-question"
                    iosOverflowSafeArea="false">
                    <StackLayout class="q-title" iosOverflowSafeArea="false">
                        <Label text="You can also submit questions and get a chance to win cash prizes" textWrap="true">
                        </Label>
                    </StackLayout>
                    <StackLayout orientation="horizontal" iosOverflowSafeArea="false">
                        <Button horizontaAlignment="left"  class="btn-transparent blue-border" text="SUBMIT A QUESTION"
                            (tap)="navigateToMyQuestion()"></Button>
                    </StackLayout>
                </StackLayout>
            </GridLayout>
        </StackLayout>
    </ScrollView>
</StackLayout>