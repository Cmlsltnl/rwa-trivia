<StackLayout class="active-container">
    <GridLayout rows="36" columns="*,auto,auto">
        <Label text="{{categoryDict[game.gameOptions?.categoryIds[randomCategoryId]]?.categoryName?.charAt(0)?.toUpperCase()
                + categoryDict[game.gameOptions?.categoryIds[randomCategoryId]]?.categoryName?.slice(1)}}"
            row="0" col="0" class="cat-title"></Label>

        <StackLayout row="0" col="1" horizontalAlignment="right">
            <AbsoluteLayout>
                <Image *ngIf="game.stats[otherUserId]?.score >= 5" left="74" top="5" src="~/assets/images/score5.png"
                    height="30" width="30" marginLeft="2" verticalAlignment="center" marginLeft="2" borderRadius="50"></Image>

                <Image *ngIf="game.stats[otherUserId]?.score >= 4" left="62" top="5" src="~/assets/images/score4.png"
                    height="30" width="30" marginLeft="2" verticalAlignment="center" marginLeft="2" borderRadius="50"></Image>

                <Image *ngIf="game.stats[otherUserId]?.score >= 3" left="50" top="5" src="~/assets/images/score3.png"
                    height="30" width="30" marginLeft="2" verticalAlignment="center" marginLeft="2" borderRadius="50"></Image>

                <Image *ngIf="game.stats[otherUserId]?.score >= 2" left="38" top="5" src="~/assets/images/score2.png"
                    height="30" width="30" marginLeft="2" verticalAlignment="center" marginLeft="2" borderRadius="50"></Image>

                <Image *ngIf="game.stats[otherUserId]?.score >= 1" left="25" top="5" src="~/assets/images/score1.png"
                    height="30" width="30" marginLeft="2" verticalAlignment="center" marginLeft="2" borderRadius="50"></Image>
                <StackLayout left="5" top="5">
                    <app-user-card [userId]="otherUserId" [type]="userCardType.USER_IMAGE_30X30" [width]="30" [height]="30">
                    </app-user-card>
                </StackLayout>
            </AbsoluteLayout>
        </StackLayout>

        <StackLayout row="0" col="2" horizontalAlignment="right">
            <AbsoluteLayout>
                <Image *ngIf="game.stats[user.userId]?.score >= 5" left="74" top="5" src="~/assets/images/score5.png"
                    height="30" width="30" marginLeft="2" verticalAlignment="center" marginLeft="2" borderRadius="50"></Image>

                <Image *ngIf="game.stats[user.userId]?.score >= 4" left="62" top="5" src="~/assets/images/score4.png"
                    height="30" width="30" marginLeft="2" verticalAlignment="center" marginLeft="2" borderRadius="50"></Image>

                <Image *ngIf="game.stats[user.userId]?.score >= 3" left="50" top="5" src="~/assets/images/score3.png"
                    height="30" width="30" marginLeft="2" verticalAlignment="center" marginLeft="2" borderRadius="50"></Image>

                <Image *ngIf="game.stats[user.userId]?.score >= 2" left="38" top="5" src="~/assets/images/score2.png"
                    height="30" width="30" marginLeft="2" verticalAlignment="center" marginLeft="2" borderRadius="50"></Image>

                <Image *ngIf="game.stats[user.userId]?.score >= 1" left="25" top="5" src="~/assets/images/score1.png"
                    height="30" width="30" marginLeft="2" verticalAlignment="center" marginLeft="2" borderRadius="50"></Image>

                <StackLayout left="5" top="5">
                    <app-user-card [userId]="user.userId" [type]="userCardType.USER_IMAGE_30X30" [width]="30" [height]="30">
                    </app-user-card>
                </StackLayout>
            </AbsoluteLayout>
        </StackLayout>
        <StackLayout *ngIf="!otherUserInfo" iosOverflowSafeArea="false">
            <Image src="~/assets/images/no_user.png" marginLeft="2" verticalAlignment="center" marginLeft="2"
                padding="20" borderRadius="50" height="64" width="64"></Image>
        </StackLayout>
    </GridLayout>
    <GridLayout rows="*" columns="*,*,*" iosOverflowSafeArea="false">
        <StackLayout row="0" col="0" class="hr-light m-10" height="2" iosOverflowSafeArea="false"></StackLayout>
        <Label row="0" col="1" horizontalAlignment="center" text="{{categoryDict[game.gameOptions?.categoryIds[randomCategoryId]]?.categoryName?.charAt(0)?.toUpperCase()
                + categoryDict[game.gameOptions?.categoryIds[randomCategoryId]]?.categoryName?.slice(1)}}"
            textWrap="true" class="tagging"> </Label>
        <StackLayout row="0" col="2" class="hr-light m-10" height="2" iosOverflowSafeArea="false"></StackLayout>
    </GridLayout>
    <GridLayout rows="*" columns="auto,auto,*" iosOverflowSafeArea="false">
        <app-user-card [userId]="user.userId" [type]="userCardType.USER_IMAGE_NAME_WITH_SCORE"
            [otherInfo]="{correctCount:game.stats[user.userId]?.score,questionRound:game.round,totalRound:totalRound}">
        </app-user-card>

    </GridLayout>

    <StackLayout orientation="horizontal" *ngIf="(game.gameOptions.playerMode == PlayerMode.Opponent && game.playerIds.length > 1) ||
    (game.gameOptions.playerMode == PlayerMode.Single)">

        <StackLayout orientation="horizontal" padding="7 5 0 0" [visibility]="myTurn ? 'visible' : 'hidden' ">
            <Label class="fa active-game-timer" text="&#xf017; {{remainingHours }}:{{remainingMinutes}}" textWrap="true"
                padding="0 5 3 0" android:paddingTop=""></Label>
        </StackLayout>
        <StackLayout orientation="horizontal" paddingLeft="20" padding="10 5 0 0">
            <StackLayout width="25" height="25" padding="0 0 5 0">
                <app-user-card *ngIf="myTurn" [userId]="user.userId" [type]="userCardType.USER_IMAGE_30X30" [width]="20"
                    [height]="20">
                </app-user-card>

                <app-user-card *ngIf="!myTurn && otherUserId" [userId]="otherUserId" [type]="userCardType.USER_IMAGE_30X30"
                    [width]="20" [height]="20">
                </app-user-card>
            </StackLayout>
        </StackLayout>

        <StackLayout orientation="horizontal" padding="7 5 0 0">
            <Label *ngIf="myTurn" text="Your Turn " padding="0 5 3 5" class="active-game-timer"></Label>
            <Label *ngIf="!myTurn && otherUserId" text="{{otherUserInfo?.displayName}} 's Turn" padding="0 5 3 5" class="active-game-timer"></Label>
        </StackLayout>

    </StackLayout>

    <Label *ngIf="myTurn" text="Play Now" textWrap="true" class="active-play-now" [nsRouterLink]="['/game-play', game.gameId]"
        clearHistory="true"></Label>

    <Label *ngIf="(game.GameStatus === gameStatus.AVAILABLE_FOR_OPPONENT || game.GameStatus === gameStatus.WAITING_FOR_FRIEND_INVITATION_ACCEPTANCE || game.GameStatus === gameStatus.WAITING_FOR_RANDOM_PLAYER_INVITATION_ACCEPTANCE)"
        text="Waiting for Opponent" textWrap="true" class="active-waiting-opponent"></Label>

        </StackLayout>
    </GridLayout>
</StackLayout>