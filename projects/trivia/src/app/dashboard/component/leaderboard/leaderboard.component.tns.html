<ns-action-bar title="Leaderboard" class="Roboto-Regular" showAdd="true"></ns-action-bar>
<StackLayout backgroundColor="#f1f2f2" *ngIf="renderView">
    <ScrollView>
        <!-- *ngIf="leaderBoardCat && leaderBoardCat.length>0" -->
        <StackLayout *ngIf="leaderBoardCat && leaderBoardCat.length>0">
            <!--  *ngFor="let cat of leaderBoardCat" -->
            <StackLayout class="question-answered Hind-Regular">
                <!-- *ngIf="categoryDict[cat]?.categoryName == category" -->
                <CardView margin="5" android:elevation="20" ios:elevation="40" radius="15" class="gameplay">
                    <StackLayout class="cardStyle" orientation="vertical" verticalAlignment="center" backgroundColor="#ffffff"
                        height="100%" margin="15">
                        <StackLayout orientation="horizontal">
                            <GridLayout rows="*,*" columns="*,*">
                                <Label text="Select Category" row="0" col="0" textWrap="true" class="label" padding="10"
                                    fontSize="18" fontWeight="400" fontColor="black" verticalAlignment="bottom"></Label>
                                <DropDown class="filter-dropdown" [items]="items" [(ngModel)]="selectedIndex" [hint]="'Select Category'"
                                    (selectedIndexChanged)="onchange($event)" row="1" col="0"></DropDown>

                                <DropDown [class]="cssClass" [items]="filterTopList" [(ngModel)]="selectedTopFilter"
                                    (selectedIndexChanged)="onTopFilterChanged($event)" rowSpan="2" row="1" col="1"
                                    class="filter-dropdown"></DropDown>
                            </GridLayout>
                        </StackLayout>
                        <StackLayout class="question-answered " marginTop="10" *ngFor="let user of selectedCatList | slice:lbsUsersSliceStartIndex:pagination;let j=index;">
                            <GridLayout rows="*" columns="auto,auto,*,auto" marginTop="10" class=""
                            [ngClass]="{'border-props': (loggedInUserId === user.userId)}">
                                <Label text="#{{j+1}}" row="0" col="0" class="padding-5 text-black Hind-Bold" fontSize="16"
                                    verticalAlignment="center"></Label>
                                <Image [stlOpenUserProfile]="{userId: user.userId, redirectTo: loggedInUserId === user.userId ? 'userProfile': 'otherUserProfile'}"
                                    row="0" col="1" [src]="getImageUrl(userDict[user.userId])" backgroundColor="gray"
                                    stretch="aspectFill" stretch="aspectFill" height="55" width="55" marginLeft="10"
                                    verticalAlignment="center" marginRight="10" borderRadius="50"></Image>
                                <GridLayout row="0" col="2" rows="*, *, *" columns="*" class="padding-10">
                                    <Label *ngIf="userDict[user.userId]?.displayName" [text]="userDict[user.userId]?.displayName"
                                        fontSize="16" row="0" col="0" class="text-black"></Label>
                                    <Label *ngIf="!userDict[user.userId]?.displayName" [text]="unknown" row="0" col="0"
                                        class="text-black" fontSize="16"></Label>

                                    <Label *ngIf="userDict[user.userId]?.location" [text]="userDict[user.userId]?.location"
                                        row="1" col="0" class="text-gray" fontSize="14"></Label>
                                    <Label *ngIf="!userDict[user.userId]?.location" [text]="unknown" row="1" col="0"
                                        class="text-gray" fontSize="14"></Label>
                                    <Label *ngIf="userDict[user.userId]?.isFriend && loggedInUserId" text="{{ (userDict[user.userId]?.isFriend) ? userDict[user.userId]?.displayName : '' }} is your friend"
                                        textWrap="true" row="2" col="0" class="text-gray" fontSize="14"> </Label>


                                </GridLayout>
                                <GridLayout row="0" col="3" rows="*, *" columns="*" class="padding-10">
                                    <Label [text]="user.score" row="0" col="0" class="text-black" fontSize="16"></Label>
                                    <Label text="points" row="1" col="0" class="text-gray" fontSize="14"></Label>
                                </GridLayout>
                            </GridLayout>
                        </StackLayout>
                    </StackLayout>
                </CardView>
            </StackLayout>
        </StackLayout>
    </ScrollView>
</StackLayout>